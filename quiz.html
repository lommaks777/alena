<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–≤–∏–∑: –°—Ç–∞–¥–∏—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≤ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            line-height: 1.6;
        }


        .quiz-container {
            padding: 30px 20px;
            min-height: 400px;
        }

        .question {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            display: none;
        }

        .question.active {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }

        .question h3 {
            color: #2c3e50;
            font-size: 1.3rem;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateX(10px);
        }

        .option input[type="radio"] {
            display: none;
        }

        .option-label {
            font-size: 1rem;
            line-height: 1.5;
            cursor: pointer;
            display: block;
        }

        .progress-bar {
            background: #e9ecef;
            height: 6px;
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            opacity: 1;
            pointer-events: all;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            pointer-events: none;
        }
        
        .btn.disabled {
            background: #ccc !important;
            cursor: not-allowed !important;
            opacity: 0.5 !important;
        }

        .result-container {
            display: none;
            padding: 40px 30px;
        }

        .result-container.active {
            display: block;
        }

        #resultContent {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .result-loading {
            background: rgba(102, 126, 234, 0.12);
            border-radius: 22px;
            padding: 28px;
            text-align: center;
            color: #3d3d6b;
            font-size: 1.05rem;
            font-weight: 500;
            line-height: 1.7;
            animation: pulse 1.8s ease-in-out infinite;
        }

        .countdown-display {
            margin: 20px 0;
        }

        .countdown-number {
            font-size: 3rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
            animation: countdownPulse 1s ease-in-out infinite;
        }

        @keyframes countdownPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

        .ai-result {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.18), rgba(118, 75, 162, 0.1));
            border-radius: 26px;
            padding: 34px;
            box-shadow: 0 24px 48px rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.24);
            display: flex;
            flex-direction: column;
            gap: 22px;
        }

        .ai-result__hero {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .ai-result__badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255, 255, 255, 0.85);
            color: #4650a3;
            font-weight: 600;
            padding: 6px 14px;
            border-radius: 999px;
            font-size: 0.95rem;
            align-self: flex-start;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.18);
        }

        .ai-result__title {
            font-size: 1.9rem;
            font-weight: 700;
            color: #202a64;
        }

        .ai-result__subtitle {
            font-size: 1.15rem;
            color: #5b63a5;
            font-weight: 600;
        }

        .ai-result__hero p {
            margin: 0;
            line-height: 1.75;
            color: #353b61;
        }

        .ai-result__section {
            background: #ffffff;
            border-radius: 22px;
            padding: 24px;
            box-shadow: 0 18px 40px rgba(102, 126, 234, 0.14);
            border: 1px solid rgba(102, 126, 234, 0.14);
        }

        .ai-result__section-title {
            font-size: 1.05rem;
            font-weight: 700;
            color: #4650a3;
            margin-bottom: 14px;
        }

        .ai-result__section p {
            margin-bottom: 12px;
            line-height: 1.75;
            color: #353b61;
        }

        .ai-result__list {
            margin: 10px 0 0 0;
            padding-left: 22px;
            color: #2f356b;
            line-height: 1.7;
        }

        .ai-result__list li {
            margin-bottom: 8px;
        }

        .ai-result__cta {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 28px;
            border-radius: 26px;
            text-align: center;
            font-size: 1.12rem;
            line-height: 1.8;
            box-shadow: 0 26px 48px rgba(238, 90, 36, 0.28);
        }

        .ai-result__cta strong {
            display: block;
            margin-top: 12px;
            font-size: 1.22rem;
        }

        .booking-form {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .booking-form h3 {
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group textarea {
            height: 80px;
            resize: vertical;
        }

        .submit-btn {
            background: white;
            color: #ff6b6b;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .hidden {
            display: none;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: #aaa;
            font-size: 0.9rem;
            background-color: #f8f9fa;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .quiz-container {
                padding: 30px 20px;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
        .result-content {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .result-content .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1a202c;
            margin: 2rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            align-items: center;
        }

        .result-content .section-title:before {
            content: '';
            width: 4px;
            height: 24px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin-right: 12px;
            border-radius: 2px;
        }

        .result-content h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2d3748;
            margin: 1.5rem 0 0.5rem 0;
        }

        .result-content p {
            margin-bottom: 1rem;
            color: #4a5568;
            line-height: 1.7;
        }

        .result-content strong {
            color: #2d3748;
            font-weight: 600;
        }

        .result-content ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .result-content li {
            margin-bottom: 0.5rem;
            color: #4a5568;
        }

        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ "–ß–µ—Ä–µ–∑ 7/14/30 –¥–Ω–µ–π" */
        .result-content .section-title:contains("–ß–µ—Ä–µ–∑ 7/14/30 –¥–Ω–µ–π") {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 2rem 0 1rem 0;
        }

        .result-content .section-title:contains("–ß–µ—Ä–µ–∑ 7/14/30 –¥–Ω–µ–π"):before {
            display: none;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .result-content .section-title {
                font-size: 1.3rem;
            }
            
            .result-content h3 {
                font-size: 1.1rem;
            }
        }
    </style>
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>–ö–≤–∏–∑: –°—Ç–∞–¥–∏—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏</h1>
            <p>‚è±Ô∏è 1 –º–∏–Ω—É—Ç–∞ ‚Ä¢ üí° –ü–æ–Ω—è—Ç—å, –Ω–∞ –∫–∞–∫–æ–π —Å—Ç–∞–¥–∏–∏ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≤—ã —Å–µ–π—á–∞—Å –∏ —á—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</p>
        </div>

        <div class="quiz-container" id="quizContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="question active" data-question="1">
                <h3>1. –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—ã –∂–∏–≤–µ—à—å –≤ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–µ?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q1" value="A">
                        <span class="option-label">A. 0‚Äì3 –º–µ—Å.</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="B">
                        <span class="option-label">B. 3‚Äì12 –º–µ—Å.</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="C">
                        <span class="option-label">C. 1‚Äì2 –≥–æ–¥–∞</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="D">
                        <span class="option-label">D. 3+ –≥–æ–¥–∞</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="2">
                <h3>2. –ö–∞–∫ —Ç—ã —á–∞—â–µ –≤—Å–µ–≥–æ —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q2" value="A">
                        <span class="option-label">A. ¬´–í—Å–µ –Ω–æ–≤–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="B">
                        <span class="option-label">B. ¬´–†–∞—Å—Ç–µ—Ä—è–ª–∞—Å—å, –Ω–µ –∑–Ω–∞—é, –∑–∞ —á—Ç–æ —Ö–≤–∞—Ç–∞—Ç—å—Å—è¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="C">
                        <span class="option-label">C. ¬´–ß—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –∂–∏–≤—É –∫–∞–∫ —Ç–µ–Ω—å (–º—É–∂–∞/—Å–µ–º—å–∏), —Ö–æ—á—É –Ω–∞–π—Ç–∏ —Å–≤–æ—ë –¥–µ–ª–æ¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="D">
                        <span class="option-label">D. ¬´–ú–Ω–æ–≥–æ–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –Ω–æ —Ö–æ—á–µ—Ç—Å—è –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="3">
                <h3>3. –ö–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å —Ä–∞–±–æ—Ç–æ–π –∏ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q3" value="A">
                        <span class="option-label">A. ¬´–ü–æ–∫–∞ –ø—Ä–∏–≤—ã–∫–∞—é, –∫–∞—Ä—å–µ—Ä—É –æ—Ç–ª–æ–∂–∏–ª–∞¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="B">
                        <span class="option-label">B. ¬´–ú–æ–π –¥–∏–ø–ª–æ–º/–æ–ø—ã—Ç –∑–¥–µ—Å—å –Ω–µ –ø—Ä–∏–∑–Ω–∞—é—Ç, —Ç—Ä—É–¥–Ω–æ –Ω–∞–π—Ç–∏ —Ä–∞–±–æ—Ç—É¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="C">
                        <span class="option-label">C. ¬´–î–µ–ª–∞—é —à–∞–≥–∏, –Ω–æ –Ω–µ –∑–Ω–∞—é, –∫—É–¥–∞ –∏–¥—É¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="D">
                        <span class="option-label">D. ¬´–†–∞–±–æ—Ç–∞—é, –Ω–æ –Ω–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞/–≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è¬ª</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="4">
                <h3>4. –ö–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å –¥—Ä—É–∑—å—è–º–∏?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q4" value="A">
                        <span class="option-label">A. ¬´–ü–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç, —á—É–≤—Å—Ç–≤—É—é –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="B">
                        <span class="option-label">B. ¬´–ï—Å—Ç—å –∑–Ω–∞–∫–æ–º—ã–µ, –Ω–æ –Ω–µ —á—É–≤—Å—Ç–≤—É—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="C">
                        <span class="option-label">C. ¬´–ü–æ–¥—Ä—É–≥–∏ –µ—Å—Ç—å, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥—É—à–∏¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="D">
                        <span class="option-label">D. ¬´–°–≤–æ—è –∫–æ–º–ø–∞–Ω–∏—è –ø–æ—è–≤–∏–ª–∞—Å—å, –Ω–æ –Ω–∞ —Å–µ–±—è –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏¬ª</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="5">
                <h3>5. –ö–∞–∫ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Ç–µ–ª–æ?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q5" value="A">
                        <span class="option-label">A. –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–ª–æ—Å—Ç—å –æ—Ç –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π, —Ö–æ—á–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ —Ç–∏—à–∏–Ω—ã</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="B">
                        <span class="option-label">B. –ò–Ω–æ–≥–¥–∞ –Ω–µ —Å–ø–ª—é –∏–ª–∏ —á—É–≤—Å—Ç–≤—É—é —Ç—Ä–µ–≤–æ–≥—É –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="C">
                        <span class="option-label">C. –ß–∞—Å—Ç–æ –Ω–∞–ø—Ä—è–∂–µ–Ω—ã –ø–ª–µ—á–∏, —Å–ø–∏–Ω–∞ –∏–ª–∏ —á–µ–ª—é—Å—Ç—å</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="D">
                        <span class="option-label">D. –≠–Ω–µ—Ä–≥–∏—è –µ—Å—Ç—å, –Ω–æ —á–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é –ø–µ—Ä–µ—É—Ç–æ–º–ª–µ–Ω–∏–µ</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="6">
                <h3>6. –ö–æ–≥–¥–∞ –¥—É–º–∞–µ—à—å –æ –±—É–¥—É—â–µ–º‚Ä¶</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q6" value="A">
                        <span class="option-label">A. ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ –∂–¥—ë—Ç –≤–ø–µ—Ä–µ–¥–∏!¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="B">
                        <span class="option-label">B. ¬´–ò–Ω–æ–≥–¥–∞ –±–æ—é—Å—å, —á—Ç–æ –Ω–µ —Å–ø—Ä–∞–≤–ª—é—Å—å¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="C">
                        <span class="option-label">C. ¬´–•–æ—á—É –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –æ–ø–æ—Ä—É –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º –¥–Ω–µ¬ª</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="D">
                        <span class="option-label">D. ¬´–•–æ—á—É —Å–Ω–æ–≤–∞ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–æ–π –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π¬ª</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="7">
                <h3>7. –ö–∞–∫ —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q7" value="A">
                        <span class="option-label">A. –î–µ–π—Å—Ç–≤—É—é, –∫–∞–∫ —á—É–≤—Å—Ç–≤—É—é, –ø–æ—Ç–æ–º —Ä–∞–∑–±–µ—Ä—É—Å—å</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q7" value="B">
                        <span class="option-label">B. –ó–∞–º—ã–∫–∞—é—Å—å –∏ —Å—Ç–∞—Ä–∞—é—Å—å —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å–∞–º–∞</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q7" value="C">
                        <span class="option-label">C. –ù–µ –∑–Ω–∞—é, –∫ –∫–æ–º—É –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è, —Å—Ç–∞—Ä–∞—é—Å—å –≤—Å—ë —Ç—è–Ω—É—Ç—å —Å–∞–º–∞</span>
                    </label>
                    <label class="option">
                        <input type="radio" name="q7" value="D">
                        <span class="option-label">D. –£—á—É—Å—å –ø—Ä–æ—Å–∏—Ç—å –æ –ø–æ–º–æ—â–∏ –∏ –¥–µ–ª–∏—Ç—å—Å—è —Ç–µ–º, —á—Ç–æ —á—É–≤—Å—Ç–≤—É—é</span>
                    </label>
                </div>
            </div>

            <div class="question" data-question="8">
                <h3>8. –ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç —Ç–µ–±—è –≤ —ç–º–∏–≥—Ä–∞—Ü–∏–∏?</h3>
                <div class="options">
                    <label class="option" style="display: block;">
                        <textarea name="q10" id="concernInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ç—Ä–µ–≤–æ–≥–∏ –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–æ–≤..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e9ecef; border-radius: 12px; font-size: 1rem; line-height: 1.5; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; resize: vertical;" maxlength="500"></textarea>
                    </label>
                </div>
            </div>

            <div class="question" data-question="9">
                <h3>9. –ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?</h3>
                <div class="options">
                    <label class="option">
                        <input type="text" name="q0" id="nameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px;">
                    </label>
                </div>
            </div>


            <div class="navigation">
                <button class="btn" id="prevBtn" disabled>‚Üê –ù–∞–∑–∞–¥</button>
                <span id="questionCounter">1 –∏–∑ 10</span>
                <button class="btn" id="nextBtn">–î–∞–ª–µ–µ ‚Üí</button>
            </div>
        </div>

        <div class="result-container" id="resultContainer">
            <div id="resultContent"></div>
            
            <div class="booking-form">
                <h3>–î–∞–≤–∞–π –≤–º–µ—Å—Ç–µ —Å–æ—Å—Ç–∞–≤–∏–º —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –ø–ª–∞–Ω?</h3>
                
                <!-- –¶–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ -->
                <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 15px; margin: 20px 0;">
                    <h4 style="margin: 0 0 20px 0; color: #fff; font-size: 1.3rem; font-weight: 600;">–ù–∞ –≤—Å—Ç—Ä–µ—á–µ –º—ã:</h4>
                    <ul style="margin: 0; padding-left: 25px; color: #fff; line-height: 1.8; font-size: 1rem; list-style: none;">
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="margin-right: 10px; font-size: 1.2rem;">‚úì</span>
                            <span><strong>1.</strong> –†–∞–∑–±–µ—Ä–µ–º —Ç–≤–æ—é —Ç–µ–∫—É—â—É—é —Å–∏—Ç—É–∞—Ü–∏—é</span>
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: start;">
                            <span style="margin-right: 10px; font-size: 1.2rem;">‚úì</span>
                            <span><strong>2.</strong> –û–ø—Ä–µ–¥–µ–ª–∏–º 1-2 –∫–ª—é—á–µ–≤—ã—Ö —à–∞–≥–∞ –¥–ª—è —Ç–µ–±—è –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π –º–µ—Å—è—Ü</span>
                        </li>
                        <li style="margin-bottom: 0; display: flex; align-items: start;">
                            <span style="margin-right: 10px; font-size: 1.2rem;">‚úì</span>
                            <span><strong>3.</strong> –¢—ã –ø–æ–ª—É—á–∏—à—å  –°—Ç—Ä–µ—Ç–µ–≥–∏—á–µ—Å–∫—É—é –∫–∞—Ä—Ç—É –∞–¥–∞–ø—Ç–∞—Ü–∏–∏</span>
                        </li>
                    </ul>
                </div>
                
                <!-- –û—Ç–∑—ã–≤—ã –æ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
                <div style="background: rgba(255,255,255,0.2); padding: 25px; border-radius: 15px; margin: 20px 0;">
                    <h4 style="margin: 0 0 20px 0; color: #fff; font-size: 1.2rem; font-weight: 600; text-align: center;">üí¨ –ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç —Ç–µ, –∫—Ç–æ —É–∂–µ –±—ã–ª –Ω–∞ –≤—Å—Ç—Ä–µ—á–µ:</h4>
                    
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <!-- –û—Ç–∑—ã–≤ 1 -->
                        <div style="background: rgba(255,255,255,0.15); padding: 18px; border-radius: 12px; border-left: 4px solid rgba(255,255,255,0.4);">
                            <p style="margin: 0; color: #fff; font-size: 0.95rem; line-height: 1.6; font-style: italic;">
                                "–ë—ã–ª–æ –æ—á–µ–Ω—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ, –±—ã–ª–æ –æ—á–µ–Ω—å –ø–æ–Ω—è—Ç–Ω–æ, –±–µ–∑ –≤—Å—è–∫–æ–π –≤–æ–¥—ã –ª–∏—à–Ω–µ–π. –í—Å—ë –ø–æ —Ç–µ–º–µ, –≤—Å—ë –ø–æ —Ñ–∞–∫—Ç–∞–º, –ø–æ-–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ."
                            </p>
                        </div>
                        
                        <!-- –û—Ç–∑—ã–≤ 2 -->
                        <div style="background: rgba(255,255,255,0.15); padding: 18px; border-radius: 12px; border-left: 4px solid rgba(255,255,255,0.4);">
                            <p style="margin: 0; color: #fff; font-size: 0.95rem; line-height: 1.6; font-style: italic;">
                                "–¢–µ–ø–µ—Ä—å —è –ø–æ–Ω–∏–º–∞—é, –∫—É–¥–∞ –º–Ω–µ –¥–≤–∏–≥–∞—Ç—å—Å—è, –µ—Å—Ç—å –∫–∞–∫–æ–π-—Ç–æ –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π... –°–ø–∞—Å–∏–±–æ, —á—Ç–æ... –¥–∞–ª–∞ —Ç–∞–∫–æ–π –Ω–µ–±–æ–ª—å—à–æ–π —Ç–æ–ª—á–æ–∫."
                            </p>
                        </div>
                        
                        <!-- –û—Ç–∑—ã–≤ 3 -->
                        <div style="background: rgba(255,255,255,0.15); padding: 18px; border-radius: 12px; border-left: 4px solid rgba(255,255,255,0.4);">
                            <p style="margin: 0; color: #fff; font-size: 0.95rem; line-height: 1.6; font-style: italic;">
                                "–ü–æ–Ω—è–ª–∞, —á—Ç–æ –Ω–∞–¥–æ –±–æ–ª—å—à–µ –æ —Å–µ–±–µ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è, –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –≤ –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–µ–¥–µ–ª–µ –¥–µ–Ω—å, –≥–¥–µ —è –∑–∞–Ω–∏–º–∞—é—Å—å —Ç–æ–ª—å–∫–æ —Å–æ–±–æ–π."
                            </p>
                        </div>
                    </div>
                </div>
                
                <p>–ó–∞–ø–∏—à–∏—Å—å –Ω–∞ <strong>–±–µ—Å–ø–ª–∞—Ç–Ω—É—é</strong> –¥—Ä—É–∂–µ—Å–∫—É—é –≤—Å—Ç—Ä–µ—á—É —Å–æ –º–Ω–æ–π, —á—Ç–æ–±—ã —É–∫—Ä–µ–ø–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –¥–æ–±–∞–≤–∏—Ç—å –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –º—è–≥–∫–æ–≥–æ —Ä–æ—Å—Ç–∞ –≤ –Ω–æ–≤–æ–π –∂–∏–∑–Ω–∏.</p>
                
                <form id="bookingForm">
                    <div class="form-group">
                        <label for="telegram">–ù–∏–∫ –≤ Telegram:</label>
                        <input type="text" id="telegram" name="telegram" placeholder="@username" required>
                    </div>
                    <button type="submit" class="submit-btn">–ü–æ–ª—É—á–∏—Ç—å –ø–ª–∞–Ω</button>
                </form>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—É—á–µ -->
                <div class="coach-info" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0; text-align: center;">
                    <h4 style="margin: 0 0 15px 0; color: #fff; font-size: 1.2rem;">üë©‚Äçüíº –ö–æ—É—á ‚Äî –ê–ª–µ–Ω–∞ –ü–æ–∑–¥–Ω—è–∫–æ–≤–∞</h4>
                    <div style="display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: wrap;">
                        <div style="flex: 0 0 120px;">
                            <img src="IMG_5365.JPG" 
                                 alt="–ê–ª–µ–Ω–∞ –ü–æ–∑–¥–Ω—è–∫–æ–≤–∞" 
                                 style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid rgba(255,255,255,0.3);">
                        </div>
                        <div style="flex: 1; min-width: 250px; text-align: left;">
                            <ul style="margin: 0; padding-left: 20px; color: #fff; line-height: 1.6;">
                                <li>–£–∂–µ 5 –ª–µ—Ç –≤ —ç–º–∏–≥—Ä–∞—Ü–∏–∏</li>
                                <li>–ñ–∏–ª–∞ 4 –≥–æ–¥–∞ –≤ –¢—É—Ä—Ü–∏–∏ –ø–æ –í–ù–ñ</li>
                                <li>–°–µ–π—á–∞—Å –∂–∏–≤—É –≤ –ë—É—ç–Ω–æ—Å-–ê–π—Ä–µ—Å–µ, –ê—Ä–≥–µ–Ω—Ç–∏–Ω–∞</li>
                                <li>–°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ICTA-–∫–æ—É—á</li>
                                <li>–†–∞–±–æ—Ç–∞—é —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –±—ã—Å—Ç—Ä–µ–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è, —Å–Ω–∏–∑–∏—Ç—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å –∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –∂–∏–∑–Ω—å –Ω–∞ –Ω–æ–≤–æ–º –º–µ—Å—Ç–µ</li>
                            </ul>
                        </div>
                    </div>
                    <p style="margin: 15px 0 0 0; color: #fff; font-style: italic; line-height: 1.5;">
                        –Ø —Å–∞–º–∞ –ø—Ä–æ—à–ª–∞ –≤—Å–µ —Å—Ç–∞–¥–∏–∏ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ ‚Äî –æ—Ç –≤–æ—Å—Ç–æ—Ä–≥–∞ –∏ —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç–∏ –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏. –ù–∞ —Å–µ—Å—Å–∏–∏ —è –ø–æ–º–æ–≥—É —É–≤–∏–¥–µ—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –≤—ã –∑–∞—Å—Ç—Ä—è–ª–∏, –∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —à–∞–≥–∏, —á—Ç–æ–±—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥.
                    </p>
                </div>
                
                
            </div>
        </div>
    </div>

    <script>
        class Quiz {
            constructor() {
                this.currentQuestion = 1;
                this.totalQuestions = 10;
                this.answers = {};
                this.startTimeMs = Date.now();
                this.results = {
                    A: "‚úàÔ∏è –°—Ç–∞–¥–∏—è 1. –¢—É—Ä–∏—Å—Ç–∫–∞ ‚Äî ¬´–ü–æ–∫–∞ –≤—Å—ë –Ω–æ–≤–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª",
                    B: "üåä –°—Ç–∞–¥–∏—è 2. –ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ ‚Äî ¬´–í—Å—ë –∏–¥—ë—Ç, –Ω–æ –Ω–µ —Ç–∞–∫ –ª–µ–≥–∫–æ¬ª",
                    C: "üåë –°—Ç–∞–¥–∏—è 3. –£—Å—Ç–∞–ª–æ—Å—Ç—å ‚Äî ¬´–ñ–∏–≤—É, –Ω–æ –Ω–µ —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –∂–∏–≤–æ–π¬ª",
                    D: "üåÖ –°—Ç–∞–¥–∏—è 4. –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–µ–±—è ‚Äî ¬´–ñ–∏–≤—É, –Ω–æ —Ö–æ—á—É –±–æ–ª—å—à–µ–≥–æ —Å–º—ã—Å–ª–∞ –∏ –ª—ë–≥–∫–æ—Å—Ç–∏¬ª"
                };
                this.advice = {
                    A: "–í—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Å–≤–æ–π –ø—É—Ç—å. –í—Å—ë –∫–∞–∂–µ—Ç—Å—è —Å–≤–µ–∂–∏–º –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–º ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∞, —è–∑—ã–∫, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞. –ù–æ –ø–æ–¥ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å—é –ª—ë–≥–∫–æ—Å—Ç–∏ —É–∂–µ —á—É–≤—Å—Ç–≤—É–µ—Ç—Å—è –ª—ë–≥–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: –≤—ã —Å—Ç–∞—Ä–∞–µ—Ç–µ—Å—å —É—Å–ø–µ—Ç—å –≤—Å—ë, –Ω–µ–º–Ω–æ–≥–æ —Ç—Ä–µ–≤–æ–∂–∏—Ç–µ—Å—å, –±–æ–∏—Ç–µ—Å—å ¬´–Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è¬ª.",
                    B: "–í—ã —É–∂–µ –º–Ω–æ–≥–æ–µ —Å–¥–µ–ª–∞–ª–∏ ‚Äî –æ–±—É—Å—Ç—Ä–æ–∏–ª–∏—Å—å, –Ω–∞—à–ª–∏ —Ä—É—Ç–∏–Ω—É, –Ω–µ–º–Ω–æ–≥–æ –æ—Å–≤–æ–∏–ª–∏—Å—å. –ù–æ –≤–Ω—É—Ç—Ä–∏ –±—É–¥—Ç–æ ¬´—Ç–∏—à–∏–Ω–∞¬ª: –≤—Å—ë –∏–¥—ë—Ç, –Ω–æ –±–µ–∑ –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è. –ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ –≤—ã ¬´–∂–∏–≤—ë—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ¬ª, –Ω–æ –≥–ª—É–±–æ–∫–æ –≤–Ω—É—Ç—Ä–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ç–µ–ø–ª–∞, —Ä–∞–¥–æ—Å—Ç–∏ –∏ —á—É–≤—Å—Ç–≤–∞, —á—Ç–æ –∂–∏–∑–Ω—å ‚Äî –≤–∞—à–∞.",
                    C: "–í—ã —É–∂–µ –º–Ω–æ–≥–æ–µ —Å–¥–µ–ª–∞–ª–∏ ‚Äî –Ω–æ –≤—Å—ë –∫–∞–∂–µ—Ç—Å—è –æ–¥–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º. –î–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ –¥–µ–Ω—å, –∏ –¥–∞–∂–µ —É—Å–ø–µ—Ö–∏ –Ω–µ —Ä–∞–¥—É—é—Ç. –í—ã –¥–µ—Ä–∂–∏—Ç–µ—Å—å, –Ω–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ, —á—Ç–æ —Å–∏–ª—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è, –∞ —Å–º—ã—Å–ª —Ç–µ—Ä—è–µ—Ç—Å—è.",
                    D: "–í—ã —É–∂–µ –º–Ω–æ–≥–æ–µ –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ ‚Äî –µ—Å—Ç—å –±—ã—Ç, —Å–≤—è–∑–∏, —Ä–∞–±–æ—Ç–∞. –ù–æ —Ç–µ–ø–µ—Ä—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å: ¬´–ê —á—Ç–æ –¥–∞–ª—å—à–µ?¬ª –•–æ—á–µ—Ç—Å—è –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ¬ª, –∞ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–¥–æ—Å—Ç—å, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ —Å–º—ã—Å–ª. –í—ã —É–∂–µ –Ω–µ –≤ –∫—Ä–∏–∑–∏—Å–µ ‚Äî –≤—ã –Ω–∞ –ø–æ—Ä–æ–≥–µ —Ä–æ—Å—Ç–∞."
                };
                
                this.suggestions = {
                    A: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫—É ¬´5 –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø–æ–±–µ–¥¬ª. –ö–∞–∂–¥—ã–π –≤–µ—á–µ—Ä –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ 5 –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–¥–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å ‚Äî –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ ¬´–Ω–∞—à–ª–∞ –≤–∫—É—Å–Ω–æ–µ –∫–∞—Ñ–µ¬ª –∏–ª–∏ ¬´–ø–æ–Ω—è–ª–∞ –æ–¥–Ω–æ –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ¬ª. –¢–∞–∫ –≤—ã –≤–µ—Ä–Ω—ë—Ç–µ —Å–µ–±–µ –æ—â—É—â–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: ¬´–Ø —Å–ø—Ä–∞–≤–ª—è—é—Å—å¬ª.",
                    B: "–ù–∞—á–Ω–∏—Ç–µ ¬´–ø—Ä–∞–∫—Ç–∏–∫—É –æ–∂–∏–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–∞¬ª. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞–¥–∞–≤–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å: —á—Ç–æ —Å–µ–≥–æ–¥–Ω—è –±—ã–ª–æ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –∂–∏–≤—ã–º –¥–ª—è –º–µ–Ω—è? –≠—Ç–æ—Ç —Ñ–æ–∫—É—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ç—è–≥—É –∫ –∂–∏–∑–Ω–∏.",
                    C: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ ¬´—Ä–∏—Ç—É–∞–ª –ª—ë–≥–∫–æ—Å—Ç–∏¬ª. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤—ã–±–∏—Ä–∞–π—Ç–µ –æ–¥–Ω–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ ‚Äî —É—Ç—Ä–µ–Ω–Ω–∏–π —Å–≤–µ—Ç, —á–∞—à–∫—É –∫–æ—Ñ–µ, –ø—Ä–æ–≥—É–ª–∫—É –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –¢–∞–∫ —Ç–µ–ª–æ –∏ –ø—Å–∏—Ö–∏–∫–∞ —É—á–∞—Ç—Å—è –æ—Ç–ø—É—Å–∫–∞—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏ —Å–Ω–æ–≤–∞ –∂–∏—Ç—å, –∞ –Ω–µ –≤—ã–∂–∏–≤–∞—Ç—å.",
                    D: "–ù–∞—á–Ω–∏—Ç–µ ¬´–¥–Ω–µ–≤–Ω–∏–∫ —Ä–∞–¥–æ—Å—Ç–∏¬ª. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ 3 –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –≤—ã —á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏–ª–∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ. –≠—Ç–æ —É–∫—Ä–µ–ø–∏—Ç –≤–∞—à—É –Ω–æ–≤—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –∏ —Å–≤—è–∑—å —Å —Å–æ–±–æ–π."
                };
                
                // –¢–µ–∫—Å—Ç—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
                this.questionTexts = {
                    q0: "0. –ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?",
                    q1: "1. –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã —É–∂–µ –∂–∏–≤—ë—Ç–µ –≤ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–µ?",
                    q2: "2. –ö–∞–∫–∏–µ –º—ã—Å–ª–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –∫—Ä—É—Ç—è—Ç—Å—è –≤ –≥–æ–ª–æ–≤–µ?",
                    q3: "3. –ö–∞–∫ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Ç–µ–ª–æ?",
                    q4: "4. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã:",
                    q5: "5. –†–∞–±–æ—Ç–∞ –∏ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:",
                    q6: "6. –ß—Ç–æ —Å–∏–ª—å–Ω–µ–µ –≤—Å–µ–≥–æ –æ—â—É—â–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏?",
                    q7: "7. –ö–æ–≥–¥–∞ –¥—É–º–∞–µ—Ç–µ –æ –±—É–¥—É—â–µ–º‚Ä¶",
                    q8: "8. –ö–∞–∫ –≤—ã –æ–±—ã—á–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏?",
                    q9: "9. –ï—Å–ª–∏ –±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å‚Ä¶",
                    q10: "10. –ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç –≤–∞—Å –≤ —ç–º–∏–≥—Ä–∞—Ü–∏–∏?"
                };
                
                // –¢–µ–∫—Å—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
                this.answerTexts = {
                    q0: {
                        A: "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
                    },
                    q1: {
                        A: "0‚Äì3 –º–µ—Å—è—Ü–∞",
                        B: "3‚Äì12 –º–µ—Å—è—Ü–µ–≤", 
                        C: "1‚Äì2 –≥–æ–¥–∞",
                        D: "3 –∏ –±–æ–ª–µ–µ –ª–µ—Ç"
                    },
                    q2: {
                        A: "¬´–°—Ç–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –Ω–æ–≤–æ–≥–æ, —è –Ω–µ –∑–Ω–∞—é, –∑–∞ —á—Ç–æ —Å—Ö–≤–∞—Ç–∏—Ç—å—Å—è¬ª",
                        B: "¬´–ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ —è –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Ç–µ—Ä—è–ª–∞—Å—å, –Ω–µ –≤—Å—ë –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –∫–∞–∫ —Ö–æ—Ç–µ–ª–æ—Å—å¬ª",
                        C: "¬´–ò–Ω–æ–≥–¥–∞ –¥—É–º–∞—é, —á—Ç–æ –º–æ–≥–ª–∞ –±—ã –±–æ–ª—å—à–µ, –Ω–æ –ø–æ–∫–∞ –Ω–µ –∑–Ω–∞—é, –∫–∞–∫¬ª",
                        D: "¬´–ú–Ω–æ–≥–æ–µ —É–∂–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –Ω–æ —Ö–æ—á–µ—Ç—Å—è –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–µ–±–µ¬ª"
                    },
                    q3: {
                        A: "–ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–ª–æ—Å—Ç—å –æ—Ç –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π, —Ö–æ—á–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ —Ç–∏—à–∏–Ω—ã",
                        B: "–ò–Ω–æ–≥–¥–∞ –Ω–µ —Å–ø–ª—é –∏–ª–∏ —á—É–≤—Å—Ç–≤—É—é —Ç—Ä–µ–≤–æ–≥—É –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã",
                        C: "–ß–∞—Å—Ç–æ –Ω–∞–ø—Ä—è–∂–µ–Ω—ã –ø–ª–µ—á–∏, —Å–ø–∏–Ω–∞ –∏–ª–∏ —á–µ–ª—é—Å—Ç—å",
                        D: "–≠–Ω–µ—Ä–≥–∏—è –µ—Å—Ç—å, –Ω–æ —á–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é –ø–µ—Ä–µ—É—Ç–æ–º–ª–µ–Ω–∏–µ"
                    },
                    q4: {
                        A: "–ï—Å—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞–∫–æ–º—ã–µ, –Ω–æ –ø–æ–∫–∞ –≤—Å—ë –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ",
                        B: "–í–æ–∫—Ä—É–≥ –ª—é–¥–∏, –Ω–æ –æ—â—É—â–∞—é, —á—Ç–æ –º–µ–Ω—è –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–Ω–∏–º–∞—é—Ç",
                        C: "–ü–æ–¥—Ä—É–≥–∏ –µ—Å—Ç—å, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥—É—à–µ–≤–Ω—ã—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤",
                        D: "–£ –º–µ–Ω—è —É–∂–µ –ø–æ—è–≤–∏–ª–∏—Å—å ¬´—Å–≤–æ–∏¬ª, –Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–µ–±—è –ø–æ—á—Ç–∏ –Ω–µ—Ç"
                    },
                    q5: {
                        A: "–ü–æ–∫–∞ –ø—Ä–∏–≤—ã–∫–∞—é, –Ω–µ —Å–ø–µ—à—É —Å –∫–∞—Ä—å–µ—Ä–æ–π",
                        B: "–°–∫—É—á–∞—é –ø–æ –æ—â—É—â–µ–Ω–∏—è–º, –∫–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–µ–±—è –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–æ–π",
                        C: "–î–µ–ª–∞—é —à–∞–≥–∏, –Ω–æ –≤—Å—ë –µ—â—ë –Ω–µ –ø–æ–Ω–∏–º–∞—é, –∫—É–¥–∞ –¥–≤–∏–≥–∞—é—Å—å",
                        D: "–†–∞–±–æ—Ç–∞—é –º–Ω–æ–≥–æ, –Ω–æ —Ö–æ—á–µ—Ç—Å—è –±–æ–ª—å—à–µ–≥–æ —Å–º—ã—Å–ª–∞ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è"
                    },
                    q6: {
                        A: "–ü–µ—Ä–µ–≥—Ä—É–∑ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ",
                        B: "–õ—ë–≥–∫–∞—è –≥—Ä—É—Å—Ç—å –∏ –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ —è –Ω–µ –Ω–∞ 100% ¬´–≤ —Å–≤–æ–µ–π —Ç–∞—Ä–µ–ª–∫–µ¬ª",
                        C: "–•–æ—á—É —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏",
                        D: "–í—Å—ë –≤—Ä–æ–¥–µ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ä–∞–¥–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã"
                    },
                    q7: {
                        A: "¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ –∂–¥—ë—Ç –≤–ø–µ—Ä–µ–¥–∏!¬ª",
                        B: "¬´–ò–Ω–æ–≥–¥–∞ –±–æ—é—Å—å, —á—Ç–æ –Ω–µ —Å–ø—Ä–∞–≤–ª—é—Å—å¬ª",
                        C: "¬´–•–æ—á—É –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –æ–ø–æ—Ä—É –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º –¥–Ω–µ¬ª",
                        D: "¬´–•–æ—á—É, —á—Ç–æ–±—ã –≤—Å—ë –Ω–∞–∫–æ–Ω–µ—Ü —Å—Ç–∞–ª–æ –ª–µ–≥–∫–æ –∏ –≤ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ¬ª"
                    },
                    q8: {
                        A: "–î–µ–π—Å—Ç–≤—É—é, –∫–∞–∫ —á—É–≤—Å—Ç–≤—É—é, –ø–æ—Ç–æ–º —Ä–∞–∑–±–µ—Ä—É—Å—å",
                        B: "–ó–∞–º—ã–∫–∞—é—Å—å –∏ —Å—Ç–∞—Ä–∞—é—Å—å —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å–∞–º–∞",
                        C: "–ú–Ω–æ–≥–æ –¥—É–º–∞—é, –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é, –ø–æ—Ç–æ–º –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–µ–ª–∞—é",
                        D: "–£—á—É—Å—å –ø—Ä–æ—Å–∏—Ç—å –æ –ø–æ–º–æ—â–∏ –∏ –¥–µ–ª–∏—Ç—å—Å—è —Ç–µ–º, —á—Ç–æ —á—É–≤—Å—Ç–≤—É—é"
                    },
                    q9: {
                        A: "¬´–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∏—Ü–∞¬ª",
                        B: "¬´–ù–∞ –ø—É—Ç–∏¬ª",
                        C: "¬´–ò—â—É –±–∞–ª–∞–Ω—Å¬ª",
                        D: "¬´–°–æ–±–∏—Ä–∞—é —Å–µ–±—è –≤ –Ω–æ–≤–æ–º –º–∏—Ä–µ¬ª"
                    },
                };
                
                // –¢–µ–∫—Å—Ç—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–ø–æ–ª–Ω—ã–µ –≤–µ—Ä—Å–∏–∏)
                this.questionTextsForStats = {
                    q1: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã —É–∂–µ –∂–∏–≤—ë—Ç–µ –≤ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–µ?",
                    q2: "–ö–∞–∫–∏–µ –º—ã—Å–ª–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –∫—Ä—É—Ç—è—Ç—Å—è –≤ –≥–æ–ª–æ–≤–µ?",
                    q3: "–ö–∞–∫ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Ç–µ–ª–æ?",
                    q4: "–£—Ç—Ä–æ –¥–ª—è –≤–∞—Å ‚Äî —ç—Ç–æ‚Ä¶",
                    q5: "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã",
                    q6: "–†–∞–±–æ—Ç–∞ –∏ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è",
                    q7: "–í–µ—á–µ—Ä–æ–º –≤—ã —á–∞—â–µ –≤—Å–µ–≥–æ‚Ä¶",
                    q8: "–ß—Ç–æ —Å–∏–ª—å–Ω–µ–µ –≤—Å–µ–≥–æ –±–æ–ª–∏—Ç –≤–Ω—É—Ç—Ä–∏?",
                    q9: "–ö–æ–≥–¥–∞ –¥—É–º–∞–µ—Ç–µ –æ –±—É–¥—É—â–µ–º‚Ä¶",
                    q10: "–ï—Å–ª–∏ –±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å‚Ä¶"
                };
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                this.initStats();
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.updateProgress();
                this.updateNavigation();
                
                // No longer need name input listener at start since q0 is now at position 11
            }

            initStats() {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ localStorage
                if (!localStorage.getItem('quizStats')) {
                    const initialStats = {
                        totalResponses: 0,
                        uniqueUsers: 0,
                        completionRate: 0,
                        avgTime: 0,
                        results: { A: 0, B: 0, C: 0, D: 0 },
                        questions: {},
                        userResponses: [] // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    };
                    localStorage.setItem('quizStats', JSON.stringify(initialStats));
                }
            }

            updateStats() {
                try {
                const stats = JSON.parse(localStorage.getItem('quizStats') || '{}');
                    
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π
                    stats.totalResponses = (stats.totalResponses || 0) + 1;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    const result = this.calculateResult();
                    if (result && stats.results) {
                        stats.results[result] = (stats.results[result] || 0) + 1;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º
                    Object.keys(this.answers).forEach(questionId => {
                        const answer = this.answers[questionId];
                        if (!stats.questions[questionId]) {
                            stats.questions[questionId] = {};
                        }
                        stats.questions[questionId][answer] = (stats.questions[questionId][answer] || 0) + 1;
                    });
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    const userName = this.answers['q0'] || '–ê–Ω–æ–Ω–∏–º';
                    const userResponse = {
                        id: Date.now(), // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
                        name: userName,
                        timestamp: new Date().toISOString(),
                        result: result,
                        answers: { ...this.answers }
                    };
                    
                    if (!stats.userResponses) {
                        stats.userResponses = [];
                    }
                    stats.userResponses.push(userResponse);
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 1000)
                    if (stats.userResponses.length > 1000) {
                        stats.userResponses = stats.userResponses.slice(-1000);
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è
                    if (!this.startTimeMs) {
                        this.startTimeMs = Date.now();
                    }
                    const timeSpentMinutes = (Date.now() - this.startTimeMs) / 1000 / 60;
                    if (stats.totalResponses > 0) {
                        const totalTime = (stats.avgTime || 0) * (stats.totalResponses - 1) + timeSpentMinutes;
                        stats.avgTime = totalTime / stats.totalResponses;
                    } else {
                        stats.avgTime = timeSpentMinutes;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–ø–æ–∫–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ)
                    stats.completionRate = Math.min(100, Math.round((stats.totalResponses / Math.max(1, stats.totalResponses)) * 100));
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    localStorage.setItem('quizStats', JSON.stringify(stats));
                    
                    console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞:', stats);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                }
            }

            setupNameInputListener() {
                const nameInput = document.getElementById('nameInput');
                if (nameInput) {
                    console.log('Setting up name input listener');
                    
                    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
                    nameInput.removeEventListener('input', this.handleNameInput);
                    nameInput.removeEventListener('keyup', this.handleNameInput);
                    nameInput.removeEventListener('change', this.handleNameInput);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
                    nameInput.addEventListener('input', this.handleNameInput.bind(this));
                    nameInput.addEventListener('keyup', this.handleNameInput.bind(this));
                    nameInput.addEventListener('change', this.handleNameInput.bind(this));
                    
                    console.log('Name input listeners added');
                } else {
                    console.log('Name input not found, retrying...');
                    // –ü–æ–≤—Ç–æ—Ä—è–µ–º –ø–æ–ø—ã—Ç–∫—É —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
                    setTimeout(() => this.setupNameInputListener(), 100);
                }
            }
            
            handleNameInput(e) {
                console.log('Name input event:', e.type, e.target.value);
                this.answers['q0'] = e.target.value;
                this.updateNavigation();
            }
            
            handleNextClick(e) {
                e.preventDefault();
                e.stopPropagation();
                console.log('Next button clicked via handleNextClick');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—Ç–≤–µ—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º
                let hasAnswer = false;
                if (this.currentQuestion === 9) {
                    // Question 9 is name input (q0)
                    const nameInput = document.getElementById('nameInput');
                    hasAnswer = nameInput && nameInput.value.trim().length > 0;
                } else if (this.currentQuestion === 8) {
                    // Question 8 is concern textarea (q10) - optional
                    const concernInput = document.getElementById('concernInput');
                    // Always allow proceeding from q8 (optional field)
                    hasAnswer = true;
                    // Save the value even if empty
                    this.answers['q10'] = concernInput ? concernInput.value.trim() : '';
                } else {
                    hasAnswer = this.answers[`q${this.currentQuestion}`];
                }
                
                if (!hasAnswer) {
                    console.log('No answer provided, cannot proceed');
                    return;
                }
                
                this.nextQuestion();
            }

            setupEventListeners() {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤
                document.querySelectorAll('.option input[type="radio"]').forEach(radio => {
                    radio.addEventListener('change', (e) => {
                        this.selectAnswer(e.target.name, e.target.value);
                    });
                });

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è –∏–º–µ–Ω–∏ (q0 - —Ç–µ–ø–µ—Ä—å –≤–æ–ø—Ä–æ—Å 11)
                const nameInput = document.getElementById('nameInput');
                if (nameInput) {
                    nameInput.addEventListener('input', (e) => {
                        this.answers['q0'] = e.target.value.trim();
                        this.updateNavigation();
                    });
                }
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è –æ–ø–∞—Å–µ–Ω–∏–π (q10 - –≤–æ–ø—Ä–æ—Å 10)
                const concernInput = document.getElementById('concernInput');
                if (concernInput) {
                    concernInput.addEventListener('input', (e) => {
                        this.answers['q10'] = e.target.value.trim();
                        this.updateNavigation();
                    });
                }

                // –ù–∞–≤–∏–≥–∞—Ü–∏—è
                const nextBtn = document.getElementById('nextBtn');
                if (nextBtn) {
                    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
                    nextBtn.removeEventListener('click', this.handleNextClick);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º bind
                    const boundHandler = this.handleNextClick.bind(this);
                    nextBtn.addEventListener('click', boundHandler);
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —á–µ—Ä–µ–∑ onclick –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                    nextBtn.onclick = (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Next button clicked via onclick');
                        this.handleNextClick(e);
                    };
                    
                    console.log('Next button event listener added');
                } else {
                    console.log('Next button not found');
                }
                document.getElementById('prevBtn').addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Prev button clicked via event listener');
                    this.prevQuestion();
                });
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                document.addEventListener('click', (e) => {
                    if (e.target.textContent === '–î–∞–ª–µ–µ ‚Üí' || e.target.textContent === '‚Üê –ù–∞–∑–∞–¥') {
                        e.preventDefault();
                        e.stopPropagation();
                        if (e.target.textContent === '–î–∞–ª–µ–µ ‚Üí') {
                            console.log('Next button clicked via text content');
                            this.nextQuestion();
                        } else if (e.target.textContent === '‚Üê –ù–∞–∑–∞–¥') {
                            console.log('Prev button clicked via text content');
                            this.prevQuestion();
                        }
                    }
                });

                // –§–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏
                document.getElementById('bookingForm').addEventListener('submit', (e) => this.handleBooking(e));
            }

            selectAnswer(questionName, value) {
                this.answers[questionName] = value;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ü–∏–π
                const questionContainer = document.querySelector(`[data-question="${this.currentQuestion}"]`);
                if (questionContainer) {
                    questionContainer.querySelectorAll('.option').forEach(option => {
                        option.classList.remove('selected');
                    });
                    
                    const selectedInput = questionContainer.querySelector(`input[name="${questionName}"][value="${value}"]`);
                    if (selectedInput) {
                        const selectedOption = selectedInput.closest('.option');
                        if (selectedOption) {
                            selectedOption.classList.add('selected');
                        }
                    }
                }
                
                this.updateNavigation();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                const nextBtn = document.getElementById('nextBtn');
                if (nextBtn) {
                    nextBtn.textContent = '‚è≥ –ü–µ—Ä–µ—Ö–æ–¥...';
                    nextBtn.disabled = true;
                }
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É (—Ç–æ–ª—å–∫–æ –¥–ª—è multiple choice)
                setTimeout(() => {
                    if (this.currentQuestion < this.totalQuestions) {
                        this.nextQuestion();
                    } else {
                        this.showResults();
                    }
                }, 1000);
            }

            nextQuestion() {
                console.log('Next question clicked, current:', this.currentQuestion);
                
                // –î–ª—è –≤–æ–ø—Ä–æ—Å–∞ 9 (–∏–º—è) —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
                if (this.currentQuestion === 9) {
                    const nameInput = document.getElementById('nameInput');
                    if (nameInput) {
                        this.answers['q0'] = nameInput.value.trim();
                        console.log('Saved name:', this.answers['q0']);
                    }
                }
                
                // –î–ª—è –≤–æ–ø—Ä–æ—Å–∞ 8 (–æ–ø–∞—Å–µ–Ω–∏—è) —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
                if (this.currentQuestion === 8) {
                    const concernInput = document.getElementById('concernInput');
                    if (concernInput) {
                        this.answers['q10'] = concernInput.value.trim();
                        console.log('Saved concern:', this.answers['q10']);
                    }
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—Ç–≤–µ—Ç
                let hasAnswer = false;
                if (this.currentQuestion === 9) {
                    hasAnswer = this.answers['q0'] && this.answers['q0'].length > 0;
                } else if (this.currentQuestion === 8) {
                    // q10 is optional, always allow proceeding
                    hasAnswer = true;
                } else {
                    hasAnswer = this.answers[`q${this.currentQuestion}`];
                }
                
                if (!hasAnswer) {
                    console.log('No answer provided, cannot proceed');
                    return;
                }
                
                if (this.currentQuestion < this.totalQuestions) {
                    this.hideCurrentQuestion();
                    this.currentQuestion++;
                    this.showCurrentQuestion();
                    this.updateProgress();
                    this.updateNavigation();
                } else {
                    this.showResults();
                }
            }

            prevQuestion() {
                if (this.currentQuestion > 0) {
                    this.hideCurrentQuestion();
                    this.currentQuestion--;
                    this.showCurrentQuestion();
                    this.updateProgress();
                    this.updateNavigation();
                }
            }

            hideCurrentQuestion() {
                const currentQ = document.querySelector(`[data-question="${this.currentQuestion}"]`);
                currentQ.classList.remove('active');
            }

            showCurrentQuestion() {
                const currentQ = document.querySelector(`[data-question="${this.currentQuestion}"]`);
                currentQ.classList.add('active');
            }

            updateProgress() {
                const progress = (this.currentQuestion / this.totalQuestions) * 100;
                document.getElementById('progressFill').style.width = `${progress}%`;
                const displayNumber = Math.min(this.currentQuestion + 1, this.totalQuestions);
                document.getElementById('questionCounter').textContent = `${displayNumber} –∏–∑ ${this.totalQuestions}`;
            }

            updateNavigation() {
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
                if (this.currentQuestion === 1) {
                    prevBtn.disabled = true;
                    prevBtn.classList.remove('active');
                    prevBtn.classList.add('disabled');
                } else {
                    prevBtn.disabled = false;
                    prevBtn.classList.add('active');
                    prevBtn.classList.remove('disabled');
                }

                let currentAnswer;
                if (this.currentQuestion === 9) {
                    // –î–ª—è –≤–æ–ø—Ä–æ—Å–∞ 9 (–∏–º—è) –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
                    const nameInput = document.getElementById('nameInput');
                    currentAnswer = nameInput ? nameInput.value.trim() : '';
                    console.log('Checking name input:', currentAnswer, 'Length:', currentAnswer.length);
                } else if (this.currentQuestion === 8) {
                    // –î–ª—è –≤–æ–ø—Ä–æ—Å–∞ 8 (–æ–ø–∞—Å–µ–Ω–∏—è) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ, –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥
                    currentAnswer = 'optional'; // Always allow proceeding
                } else {
                    currentAnswer = this.answers[`q${this.currentQuestion}`];
                }

                const hasAnswer = Boolean(currentAnswer && currentAnswer.length > 0);

                // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ"
                if (hasAnswer) {
                    nextBtn.disabled = false;
                    nextBtn.classList.remove('disabled');
                } else {
                    nextBtn.disabled = true;
                    nextBtn.classList.add('disabled');
                }

                console.log('Navigation update:', {
                    currentQuestion: this.currentQuestion,
                    currentAnswer: currentAnswer,
                    hasAnswer: hasAnswer,
                    prevBtnDisabled: prevBtn.disabled,
                    prevBtnHasActive: prevBtn.classList.contains('active'),
                    nextBtnDisabled: nextBtn.disabled,
                    nextBtnHasActive: nextBtn.classList.contains('active')
                });

                if (this.currentQuestion === this.totalQuestions && hasAnswer) {
                    nextBtn.textContent = '–ü–æ–ª—É—á–∏—Ç—å –ø–ª–∞–Ω';
                } else {
                    nextBtn.textContent = '–î–∞–ª–µ–µ ‚Üí';
                }
            }

            async generateResult(payload) {
                try {
                    const response = await fetch('/api/generate-result', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        const data = await response.json();
                        return data?.result || '';
                    } else {
                        console.error('Failed to generate personalised result', await response.text());
                        return '';
                    }
                } catch (error) {
                    console.error('Error fetching personalised result:', error);
                    return '';
                }
            }

            async showCountdown(resultContent, generationPromise) {
                const countdownDuration = 15; // 15 —Å–µ–∫—É–Ω–¥ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
                
                for (let i = countdownDuration; i > 0; i--) {
                    resultContent.innerHTML = `
                        <div class="result-loading">
                            <strong>–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –æ—Ç–≤–µ—Ç—ã...</strong>
                            <div class="countdown-display">
                                <div class="countdown-number">${i}</div>
                                <p>–ü–æ–¥–æ–∂–¥–∏—Ç–µ ${i} —Å–µ–∫—É–Ω–¥</p>
                            </div>
                            <p>–§–æ—Ä–º–∏—Ä—É—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è ${this.answers['q0'] || '—Ç–µ–±—è'} üí´</p>
                        </div>
                    `;
                    
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
                
                // –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                resultContent.innerHTML = `
                    <div class="result-loading">
                        <strong>–ì–æ—Ç–æ–≤–æ!</strong>
                        <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≥–æ—Ç–æ–≤ üí´</p>
                    </div>
                `;
            }

            async showResults() {
                document.getElementById('quizContainer').classList.add('hidden');
                document.getElementById('resultContainer').classList.add('active');
                const resultContent = document.getElementById('resultContent');

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ª–æ–∫–∞–ª—å–Ω–æ
                this.updateStats();

                const payload = {
                    name: this.answers['q0'] || '',
                    answers: this.answers,
                    questionTexts: this.questionTexts,
                    answerTexts: this.answerTexts
                };

                // –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ –æ—Ç—Å—á–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
                const generationPromise = this.generateResult(payload);
                await this.showCountdown(resultContent, generationPromise);

                // –†–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –≥–æ—Ç–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç—Å—á–µ—Ç–∞
                try {
                    const personalisedText = await generationPromise;
                    if (personalisedText) {
                        resultContent.innerHTML = `<div class="result-content">${personalisedText}</div>`;
                    } else {
                        const result = this.calculateResult();
                        this.displayResult(result);
                    }
                } catch (error) {
                    console.error('Error with generated result:', error);
                    const fallbackResult = this.calculateResult();
                    this.displayResult(fallbackResult);
                }

                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç—ã –∞–≤—Ç–æ—Ä—É
                try {
                    await fetch('/api/submit', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ answers: this.answers, result: this.calculateResult() })
                    });
                } catch (error) {
                    console.error('Error submitting answers:', error);
                }
            }

            personaliseResultLayout(name, rawText) {
                const safeName = name || '—Ç—ã';

                try {
                    const payload = JSON.parse(rawText);
                    if (payload && payload.blocks) {
                        return this.renderStructuredLayout(safeName, payload.blocks);
                    }
                } catch (e) {
                    console.warn('AI response is not JSON, fallback to text parsing');
                }

                const sections = rawText.split(/\n\n+/);
                return sections.map(section => {
                    const trimmed = section.trim();
                    if (!trimmed) {
                        return '';
                    }
                    if (/^[-‚Ä¢]/.test(trimmed)) {
                        return `<li class="ai-result__list-item">${trimmed.replace(/^[-‚Ä¢]\s*/, '')}</li>`;
                    }
                    if (/^[‚ú®üåÖüåëüåä‚úàÔ∏èüöÄüí°üìòüë£üîπ]/.test(trimmed)) {
                        return `<h3>${trimmed}</h3>`;
                    }
                    if (trimmed.startsWith('–ò–ú–Ø')) {
                        return `<p><strong>${safeName}</strong>${trimmed.replace('–ò–ú–Ø', '').trim()}</p>`;
                    }
                    return `<p>${trimmed}</p>`;
                }).join('');
            }

            renderStructuredLayout(name, blocks) {
                const parts = blocks.map(block => {
                    switch (block.type) {
                        case 'hero':
                            return `
                                <section class="ai-result">
                                    ${this.renderHeroContent(block, name)}
                                </section>
                            `;
                        case 'section':
                            return `
                                <section class="ai-result__section">
                                    ${block.heading ? `<div class="ai-result__section-title">${this.escapeHtml(block.heading)}</div>` : ''}
                                    ${this.renderSectionContent(block)}
                                </section>
                            `;
                        case 'cta':
                            return `
                                <section class="ai-result__cta">
                                    ${block.text ? `<p>${this.escapeHtml(block.text)}</p>` : ''}
                                    ${block.highlight ? `<strong>${this.escapeHtml(block.highlight)}</strong>` : ''}
                                </section>
                            `;
                        default:
                            return '';
                    }
                }).join('');

                return `<div class="ai-result">${parts}</div>`;
            }

            renderHeroContent(block, name) {
                const parts = [];
                parts.push('<div class="ai-result__hero">');
                if (block.badge) {
                    parts.push(`<div class="ai-result__badge">${this.escapeHtml(block.badge)}</div>`);
                }
                if (block.title) {
                    parts.push(`<div class="ai-result__title">${this.escapeHtml(block.title)}</div>`);
                }
                if (block.subtitle) {
                    parts.push(`<div class="ai-result__subtitle">${this.escapeHtml(block.subtitle).replace('{{name}}', name)}</div>`);
                }
                if (block.description) {
                    parts.push(`<p>${this.escapeHtml(block.description)}</p>`);
                }
                parts.push('</div>');
                return parts.join('');
            }

            renderSectionContent(block) {
                const lines = [];
                if (block.paragraphs) {
                    block.paragraphs.forEach(p => {
                        lines.push(`<p>${this.escapeHtml(p).replace('{{name}}', block.name || '')}</p>`);
                    });
                }
                if (block.list && block.list.length) {
                    const listItems = block.list.map(item => `<li>${this.escapeHtml(item)}</li>`).join('');
                    lines.push(`<ul class="ai-result__list">${listItems}</ul>`);
                }
                return lines.join('');
            }

            escapeHtml(text) {
                return text
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/"/g, '&quot;')
                    .replace(/'/g, '&#039;');
            }

            calculateResult() {
                const answerCounts = { A: 0, B: 0, C: 0, D: 0 };

                Object.entries(this.answers).forEach(([questionId, answer]) => {
                    if (questionId === 'q0') {
                        return;
                    }
                    if (answerCounts.hasOwnProperty(answer)) {
                        answerCounts[answer]++;
                    }
                });

                const counts = Object.values(answerCounts);
                if (counts.every(count => count === 0)) {
                    return 'A';
                }

                const maxCount = Math.max(...counts);
                const dominantAnswers = Object.keys(answerCounts).filter(key => answerCounts[key] === maxCount);

                return dominantAnswers[0];
            }

            displayResult(resultType) {
                const resultContent = document.getElementById('resultContent');
                
                console.log('Displaying result for type:', resultType);
                console.log('Available advice keys:', Object.keys(this.advice));
                console.log('Available suggestions keys:', Object.keys(this.suggestions));
                console.log('Available results keys:', Object.keys(this.results));
                
                const description = this.advice[resultType];
                const suggestion = this.suggestions[resultType];
                const userName = this.answers['q0'] || '–ò–º—è';
                
                console.log('Description:', description);
                console.log('Suggestion:', suggestion);
                
                resultContent.innerHTML = `
                    <div class="result-content">
                        <div class="result-title">${this.results[resultType]}</div>
                        <div class="result-description">${description}</div>
                        <div class="advice">
                            <h4>üí° –ú–æ–π —Å–æ–≤–µ—Ç:</h4>
                            <p>${suggestion}</p>
                        </div>
                    </div>
                `;
            }

            async handleBooking(e) {
                e.preventDefault();
                
                const formData = new FormData(e.target);
                const data = Object.fromEntries(formData);
                
                // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram –±–æ—Ç
                try {
                    const userName = this.answers['q0'] || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
                    const userTelegram = data.telegram || '–ù–µ —É–∫–∞–∑–∞–Ω';
                    const additionalMessage = data.message?.trim() || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';

                    const botToken = '7329587114:AAFS0uK7roRVwwHB9c9w4-W6eKJlAaOUZkY';
                    const chatId = '684726097'; // –í–∞—à Chat ID
                    
                    // Chat ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω
                    
                    // –ü–æ–ª—É—á–∞–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    const finalResult = this.calculateResult();
                    const resultText = this.results[finalResult];
                    
                    // –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
                    let answersText = '';
                    let concernText = '';
                    Object.entries(this.answers).forEach(([questionId, answer]) => {
                        const questionText = this.questionTexts[questionId] || questionId;
                        const answerText = this.answerTexts[questionId] && this.answerTexts[questionId][answer] 
                            ? this.answerTexts[questionId][answer] 
                            : answer;
                        
                        // –û—Ç–¥–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º q10 (–æ–ø–∞—Å–µ–Ω–∏—è –æ–± —ç–º–∏–≥—Ä–∞—Ü–∏–∏)
                        if (questionId === 'q10') {
                            concernText = answerText || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
                        } else {
                            answersText += `\n${questionText}\n–û—Ç–≤–µ—Ç: ${answerText}\n`;
                        }
                    });
                    
                    const message = `
üéØ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é —Å–µ—Å—Å–∏—é!

üë§ –ò–º—è: ${userName}
üì± Telegram: ${userTelegram}
üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: ${additionalMessage}

üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –ö–í–ò–ó–ê:
${resultText}

üîç –ß–¢–û –ë–ï–°–ü–û–ö–û–ò–¢ –ë–û–õ–¨–®–ï –í–°–ï–ì–û:
${concernText}

üìù –û–¢–í–ï–¢–´ –ù–ê –í–û–ü–†–û–°–´:${answersText}

üìÖ –í—Ä–µ–º—è –∑–∞—è–≤–∫–∏: ${new Date().toLocaleString('ru-RU')}
                    `;
                    
                    const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: message,
                            parse_mode: 'HTML'
                        })
                    });
                    
                    const responseData = await response.json();
                    console.log('Telegram API response:', responseData);
                    
                    if (response.ok) {
                        alert('–°–ø–∞—Å–∏–±–æ üíõ –Ø —Å–∫–æ—Ä–æ –Ω–∞–ø–∏—à—É —Ç–µ–±–µ –ª–∏—á–Ω–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–≤–æ–π –ø–ª–∞–Ω.');
                        e.target.reset();
                        
                        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–°–ø–∞—Å–∏–±–æ" —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–æ–π Cal.com
                        setTimeout(() => {
                            window.location.href = 'thank-you.html';
                        }, 2000);
                    } else {
                        console.error('Telegram API error:', responseData);
                        throw new Error(`–û—à–∏–±–∫–∞ API: ${responseData.description || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`);
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
                    
                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                    const finalResult = this.calculateResult();
                    const resultText = this.results[finalResult];
                    
                    let answersText = '';
                    let concernText = '';
                    Object.entries(this.answers).forEach(([questionId, answer]) => {
                        const questionText = this.questionTexts[questionId] || questionId;
                        const answerText = this.answerTexts[questionId] && this.answerTexts[questionId][answer] 
                            ? this.answerTexts[questionId][answer] 
                            : answer;
                        
                        // –û—Ç–¥–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º q10
                        if (questionId === 'q10') {
                            concernText = answerText || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
                        } else {
                            answersText += `\n${questionText}\n–û—Ç–≤–µ—Ç: ${answerText}\n`;
                        }
                    });
                    
                    const userName = this.answers['q0'] || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
                    const userTelegram = data.telegram || '–ù–µ —É–∫–∞–∑–∞–Ω';
                    const additionalMessage = data.message?.trim() || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';

                    const fallbackMessage = `
üéØ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é —Å–µ—Å—Å–∏—é!

üë§ –ò–º—è: ${userName}
üì± Telegram: ${userTelegram}
üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: ${additionalMessage}

üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –ö–í–ò–ó–ê:
${resultText}

üîç –ß–¢–û –ë–ï–°–ü–û–ö–û–ò–¢ –ë–û–õ–¨–®–ï –í–°–ï–ì–û:
${concernText}

üìù –û–¢–í–ï–¢–´ –ù–ê –í–û–ü–†–û–°–´:${answersText}

üìÖ –í—Ä–µ–º—è –∑–∞—è–≤–∫–∏: ${new Date().toLocaleString('ru-RU')}
                    `;
                    
                    // –ü–æ–ø—Ä–æ–±—É–µ–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                    if (navigator.clipboard) {
                        navigator.clipboard.writeText(fallbackMessage).then(() => {
                            alert('üìã –î–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!\n\n–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –≤ Telegram –±–æ—Ç—É –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.');
                        }).catch(() => {
                            alert('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ email.');
                        });
                    } else {
                        alert('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ email.');
                    }
                }
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–≤–∏–∑–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            window.quiz = new Quiz();
        });
    </script>
    <footer class="footer">
        –í–µ—Ä—Å–∏—è 1.0.0
    </footer>
</body>
</html>
